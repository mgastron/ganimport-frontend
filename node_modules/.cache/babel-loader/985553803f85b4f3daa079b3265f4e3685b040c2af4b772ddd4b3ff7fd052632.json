{"ast":null,"code":"var _jsxFileName = \"/Users/matigasstron/Desktop/pagina VG/frontend/src/components/OrderConfirmation.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Button, List, ListItem, ListItemText, Typography, Box } from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OrderConfirmation = ({\n  open,\n  onClose,\n  cart,\n  onConfirm\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const calculateTotal = () => {\n    return cart.reduce((total, item) => {\n      const pricePerUnit = item.price * 1000 * 0.44 / item.bulkQuantity;\n      const itemTotal = pricePerUnit * item.quantity;\n      return total + itemTotal;\n    }, 0);\n  };\n  const handleConfirm = async () => {\n    const orderData = {\n      items: cart.map(item => ({\n        productName: item.name,\n        productCode: item.code,\n        quantity: item.quantity,\n        bulkQuantity: item.bulkQuantity,\n        pricePerUnit: item.price * 1000 * 0.44 / item.bulkQuantity,\n        total: item.price * 1000 * 0.44 / item.bulkQuantity * item.quantity\n      })),\n      total: calculateTotal()\n    };\n    try {\n      const response = await fetch('http://localhost:8080/api/orders', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(orderData)\n      });\n      if (response.ok) {\n        const data = await response.json();\n        onConfirm();\n        // Redirigir a la página de pedidos\n        navigate('/orders', {\n          state: {\n            highlightOrder: data.orderNumber,\n            message: `Pedido ${data.orderNumber} creado exitosamente`\n          }\n        });\n      } else {\n        throw new Error('Error al enviar el pedido');\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      alert('Error al procesar el pedido');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: open,\n    onClose: onClose,\n    maxWidth: \"md\",\n    fullWidth: true,\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      children: \"Confirmar Pedido\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      children: [/*#__PURE__*/_jsxDEV(List, {\n        children: cart.map(item => {\n          const pricePerUnit = item.price * 1000 * 0.44 / item.bulkQuantity;\n          const itemTotal = pricePerUnit * item.quantity;\n          const bulkPrice = item.price * 1000 * 0.44;\n          const numberOfBulks = item.quantity / item.bulkQuantity;\n          return /*#__PURE__*/_jsxDEV(ListItem, {\n            sx: {\n              flexDirection: 'column',\n              alignItems: 'flex-start'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: [\"C\\xF3digo: \", item.code]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mt: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                children: [\"Cantidad: \", item.quantity, \" unidades (\", numberOfBulks, \" bultos de \", item.bulkQuantity, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: [\"Precio por unidad: $\", pricePerUnit.toLocaleString('es-AR', {\n                  minimumFractionDigits: 2,\n                  maximumFractionDigits: 2\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: [\"Precio por bulto: $\", bulkPrice.toLocaleString('es-AR', {\n                  minimumFractionDigits: 2,\n                  maximumFractionDigits: 2\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle1\",\n                sx: {\n                  fontWeight: 'bold'\n                },\n                children: [\"Subtotal: $\", itemTotal.toLocaleString('es-AR', {\n                  minimumFractionDigits: 2,\n                  maximumFractionDigits: 2\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 17\n            }, this)]\n          }, item.code, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        sx: {\n          mt: 2\n        },\n        children: [\"Total del Pedido: $\", calculateTotal().toLocaleString('es-AR', {\n          minimumFractionDigits: 2,\n          maximumFractionDigits: 2\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: onClose,\n        children: \"Cancelar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleConfirm,\n        variant: \"contained\",\n        color: \"primary\",\n        children: \"Confirmar Pedido\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n_s(OrderConfirmation, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c = OrderConfirmation;\nexport default OrderConfirmation;\nvar _c;\n$RefreshReg$(_c, \"OrderConfirmation\");","map":{"version":3,"names":["React","Dialog","DialogTitle","DialogContent","DialogActions","Button","List","ListItem","ListItemText","Typography","Box","useNavigate","jsxDEV","_jsxDEV","OrderConfirmation","open","onClose","cart","onConfirm","_s","navigate","calculateTotal","reduce","total","item","pricePerUnit","price","bulkQuantity","itemTotal","quantity","handleConfirm","orderData","items","map","productName","name","productCode","code","response","fetch","method","headers","body","JSON","stringify","ok","data","json","state","highlightOrder","orderNumber","message","Error","error","console","alert","maxWidth","fullWidth","children","fileName","_jsxFileName","lineNumber","columnNumber","bulkPrice","numberOfBulks","sx","flexDirection","alignItems","variant","color","mt","toLocaleString","minimumFractionDigits","maximumFractionDigits","fontWeight","onClick","_c","$RefreshReg$"],"sources":["/Users/matigasstron/Desktop/pagina VG/frontend/src/components/OrderConfirmation.js"],"sourcesContent":["import React from 'react';\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  List,\n  ListItem,\n  ListItemText,\n  Typography,\n  Box\n} from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\n\nconst OrderConfirmation = ({ open, onClose, cart, onConfirm }) => {\n  const navigate = useNavigate();\n\n  const calculateTotal = () => {\n    return cart.reduce((total, item) => {\n      const pricePerUnit = (item.price * 1000 * 0.44) / item.bulkQuantity;\n      const itemTotal = pricePerUnit * item.quantity;\n      return total + itemTotal;\n    }, 0);\n  };\n\n  const handleConfirm = async () => {\n    const orderData = {\n      items: cart.map(item => ({\n        productName: item.name,\n        productCode: item.code,\n        quantity: item.quantity,\n        bulkQuantity: item.bulkQuantity,\n        pricePerUnit: (item.price * 1000 * 0.44) / item.bulkQuantity,\n        total: ((item.price * 1000 * 0.44) / item.bulkQuantity) * item.quantity\n      })),\n      total: calculateTotal()\n    };\n\n    try {\n      const response = await fetch('http://localhost:8080/api/orders', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(orderData)\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        onConfirm();\n        // Redirigir a la página de pedidos\n        navigate('/orders', { \n          state: { \n            highlightOrder: data.orderNumber,\n            message: `Pedido ${data.orderNumber} creado exitosamente` \n          } \n        });\n      } else {\n        throw new Error('Error al enviar el pedido');\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      alert('Error al procesar el pedido');\n    }\n  };\n\n  return (\n    <Dialog open={open} onClose={onClose} maxWidth=\"md\" fullWidth>\n      <DialogTitle>Confirmar Pedido</DialogTitle>\n      <DialogContent>\n        <List>\n          {cart.map((item) => {\n            const pricePerUnit = (item.price * 1000 * 0.44) / item.bulkQuantity;\n            const itemTotal = pricePerUnit * item.quantity;\n            const bulkPrice = item.price * 1000 * 0.44;\n            const numberOfBulks = item.quantity / item.bulkQuantity;\n\n            return (\n              <ListItem key={item.code} sx={{ flexDirection: 'column', alignItems: 'flex-start' }}>\n                <Typography variant=\"h6\">{item.name}</Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  Código: {item.code}\n                </Typography>\n                <Box sx={{ mt: 1 }}>\n                  <Typography>\n                    Cantidad: {item.quantity} unidades ({numberOfBulks} bultos de {item.bulkQuantity})\n                  </Typography>\n                  <Typography>\n                    Precio por unidad: ${pricePerUnit.toLocaleString('es-AR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n                  </Typography>\n                  <Typography>\n                    Precio por bulto: ${bulkPrice.toLocaleString('es-AR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n                  </Typography>\n                  <Typography variant=\"subtitle1\" sx={{ fontWeight: 'bold' }}>\n                    Subtotal: ${itemTotal.toLocaleString('es-AR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n                  </Typography>\n                </Box>\n              </ListItem>\n            );\n          })}\n        </List>\n        <Typography variant=\"h6\" sx={{ mt: 2 }}>\n          Total del Pedido: ${calculateTotal().toLocaleString('es-AR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n        </Typography>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={onClose}>Cancelar</Button>\n        <Button onClick={handleConfirm} variant=\"contained\" color=\"primary\">\n          Confirmar Pedido\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default OrderConfirmation; "],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SACEC,MAAM,EACNC,WAAW,EACXC,aAAa,EACbC,aAAa,EACbC,MAAM,EACNC,IAAI,EACJC,QAAQ,EACRC,YAAY,EACZC,UAAU,EACVC,GAAG,QACE,eAAe;AACtB,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,MAAMC,iBAAiB,GAAGA,CAAC;EAAEC,IAAI;EAAEC,OAAO;EAAEC,IAAI;EAAEC;AAAU,CAAC,KAAK;EAAAC,EAAA;EAChE,MAAMC,QAAQ,GAAGT,WAAW,CAAC,CAAC;EAE9B,MAAMU,cAAc,GAAGA,CAAA,KAAM;IAC3B,OAAOJ,IAAI,CAACK,MAAM,CAAC,CAACC,KAAK,EAAEC,IAAI,KAAK;MAClC,MAAMC,YAAY,GAAID,IAAI,CAACE,KAAK,GAAG,IAAI,GAAG,IAAI,GAAIF,IAAI,CAACG,YAAY;MACnE,MAAMC,SAAS,GAAGH,YAAY,GAAGD,IAAI,CAACK,QAAQ;MAC9C,OAAON,KAAK,GAAGK,SAAS;IAC1B,CAAC,EAAE,CAAC,CAAC;EACP,CAAC;EAED,MAAME,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC,MAAMC,SAAS,GAAG;MAChBC,KAAK,EAAEf,IAAI,CAACgB,GAAG,CAACT,IAAI,KAAK;QACvBU,WAAW,EAAEV,IAAI,CAACW,IAAI;QACtBC,WAAW,EAAEZ,IAAI,CAACa,IAAI;QACtBR,QAAQ,EAAEL,IAAI,CAACK,QAAQ;QACvBF,YAAY,EAAEH,IAAI,CAACG,YAAY;QAC/BF,YAAY,EAAGD,IAAI,CAACE,KAAK,GAAG,IAAI,GAAG,IAAI,GAAIF,IAAI,CAACG,YAAY;QAC5DJ,KAAK,EAAIC,IAAI,CAACE,KAAK,GAAG,IAAI,GAAG,IAAI,GAAIF,IAAI,CAACG,YAAY,GAAIH,IAAI,CAACK;MACjE,CAAC,CAAC,CAAC;MACHN,KAAK,EAAEF,cAAc,CAAC;IACxB,CAAC;IAED,IAAI;MACF,MAAMiB,QAAQ,GAAG,MAAMC,KAAK,CAAC,kCAAkC,EAAE;QAC/DC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACb,SAAS;MAChC,CAAC,CAAC;MAEF,IAAIO,QAAQ,CAACO,EAAE,EAAE;QACf,MAAMC,IAAI,GAAG,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC;QAClC7B,SAAS,CAAC,CAAC;QACX;QACAE,QAAQ,CAAC,SAAS,EAAE;UAClB4B,KAAK,EAAE;YACLC,cAAc,EAAEH,IAAI,CAACI,WAAW;YAChCC,OAAO,EAAE,UAAUL,IAAI,CAACI,WAAW;UACrC;QACF,CAAC,CAAC;MACJ,CAAC,MAAM;QACL,MAAM,IAAIE,KAAK,CAAC,2BAA2B,CAAC;MAC9C;IACF,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;MAC9BE,KAAK,CAAC,6BAA6B,CAAC;IACtC;EACF,CAAC;EAED,oBACE1C,OAAA,CAACZ,MAAM;IAACc,IAAI,EAAEA,IAAK;IAACC,OAAO,EAAEA,OAAQ;IAACwC,QAAQ,EAAC,IAAI;IAACC,SAAS;IAAAC,QAAA,gBAC3D7C,OAAA,CAACX,WAAW;MAAAwD,QAAA,EAAC;IAAgB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAa,CAAC,eAC3CjD,OAAA,CAACV,aAAa;MAAAuD,QAAA,gBACZ7C,OAAA,CAACP,IAAI;QAAAoD,QAAA,EACFzC,IAAI,CAACgB,GAAG,CAAET,IAAI,IAAK;UAClB,MAAMC,YAAY,GAAID,IAAI,CAACE,KAAK,GAAG,IAAI,GAAG,IAAI,GAAIF,IAAI,CAACG,YAAY;UACnE,MAAMC,SAAS,GAAGH,YAAY,GAAGD,IAAI,CAACK,QAAQ;UAC9C,MAAMkC,SAAS,GAAGvC,IAAI,CAACE,KAAK,GAAG,IAAI,GAAG,IAAI;UAC1C,MAAMsC,aAAa,GAAGxC,IAAI,CAACK,QAAQ,GAAGL,IAAI,CAACG,YAAY;UAEvD,oBACEd,OAAA,CAACN,QAAQ;YAAiB0D,EAAE,EAAE;cAAEC,aAAa,EAAE,QAAQ;cAAEC,UAAU,EAAE;YAAa,CAAE;YAAAT,QAAA,gBAClF7C,OAAA,CAACJ,UAAU;cAAC2D,OAAO,EAAC,IAAI;cAAAV,QAAA,EAAElC,IAAI,CAACW;YAAI;cAAAwB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAa,CAAC,eACjDjD,OAAA,CAACJ,UAAU;cAAC2D,OAAO,EAAC,OAAO;cAACC,KAAK,EAAC,gBAAgB;cAAAX,QAAA,GAAC,aACzC,EAAClC,IAAI,CAACa,IAAI;YAAA;cAAAsB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACR,CAAC,eACbjD,OAAA,CAACH,GAAG;cAACuD,EAAE,EAAE;gBAAEK,EAAE,EAAE;cAAE,CAAE;cAAAZ,QAAA,gBACjB7C,OAAA,CAACJ,UAAU;gBAAAiD,QAAA,GAAC,YACA,EAAClC,IAAI,CAACK,QAAQ,EAAC,aAAW,EAACmC,aAAa,EAAC,aAAW,EAACxC,IAAI,CAACG,YAAY,EAAC,GACnF;cAAA;gBAAAgC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAY,CAAC,eACbjD,OAAA,CAACJ,UAAU;gBAAAiD,QAAA,GAAC,sBACU,EAACjC,YAAY,CAAC8C,cAAc,CAAC,OAAO,EAAE;kBAAEC,qBAAqB,EAAE,CAAC;kBAAEC,qBAAqB,EAAE;gBAAE,CAAC,CAAC;cAAA;gBAAAd,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACvG,CAAC,eACbjD,OAAA,CAACJ,UAAU;gBAAAiD,QAAA,GAAC,qBACS,EAACK,SAAS,CAACQ,cAAc,CAAC,OAAO,EAAE;kBAAEC,qBAAqB,EAAE,CAAC;kBAAEC,qBAAqB,EAAE;gBAAE,CAAC,CAAC;cAAA;gBAAAd,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnG,CAAC,eACbjD,OAAA,CAACJ,UAAU;gBAAC2D,OAAO,EAAC,WAAW;gBAACH,EAAE,EAAE;kBAAES,UAAU,EAAE;gBAAO,CAAE;gBAAAhB,QAAA,GAAC,aAC/C,EAAC9B,SAAS,CAAC2C,cAAc,CAAC,OAAO,EAAE;kBAAEC,qBAAqB,EAAE,CAAC;kBAAEC,qBAAqB,EAAE;gBAAE,CAAC,CAAC;cAAA;gBAAAd,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3F,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACV,CAAC;UAAA,GAlBOtC,IAAI,CAACa,IAAI;YAAAsB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAmBd,CAAC;QAEf,CAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eACPjD,OAAA,CAACJ,UAAU;QAAC2D,OAAO,EAAC,IAAI;QAACH,EAAE,EAAE;UAAEK,EAAE,EAAE;QAAE,CAAE;QAAAZ,QAAA,GAAC,qBACnB,EAACrC,cAAc,CAAC,CAAC,CAACkD,cAAc,CAAC,OAAO,EAAE;UAAEC,qBAAqB,EAAE,CAAC;UAAEC,qBAAqB,EAAE;QAAE,CAAC,CAAC;MAAA;QAAAd,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1G,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC,eAChBjD,OAAA,CAACT,aAAa;MAAAsD,QAAA,gBACZ7C,OAAA,CAACR,MAAM;QAACsE,OAAO,EAAE3D,OAAQ;QAAA0C,QAAA,EAAC;MAAQ;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAC3CjD,OAAA,CAACR,MAAM;QAACsE,OAAO,EAAE7C,aAAc;QAACsC,OAAO,EAAC,WAAW;QAACC,KAAK,EAAC,SAAS;QAAAX,QAAA,EAAC;MAEpE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACI,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACV,CAAC;AAEb,CAAC;AAAC3C,EAAA,CAnGIL,iBAAiB;EAAA,QACJH,WAAW;AAAA;AAAAiE,EAAA,GADxB9D,iBAAiB;AAqGvB,eAAeA,iBAAiB;AAAC,IAAA8D,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
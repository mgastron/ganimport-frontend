{"ast":null,"code":"var _jsxFileName = \"/Users/matigasstron/Desktop/pagina VG/frontend/src/components/OrderConfirmation.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Button, List, ListItem, ListItemText, Typography, Box } from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OrderConfirmation = ({\n  open,\n  onClose,\n  cart,\n  onConfirm\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const calculateTotal = () => {\n    return cart.reduce((total, item) => {\n      const pricePerUnit = item.price * 1000 * 0.44 / item.bulkQuantity;\n      const itemTotal = pricePerUnit * item.quantity;\n      return total + itemTotal;\n    }, 0);\n  };\n  const handleConfirm = async () => {\n    try {\n      const orderData = {\n        items: cart.map(item => ({\n          productName: item.name,\n          productCode: item.code,\n          quantity: item.quantity,\n          bulkQuantity: item.bulkQuantity,\n          pricePerUnit: item.price * 1000 * 0.44 / item.bulkQuantity,\n          total: item.price * 1000 * 0.44 / item.bulkQuantity * item.quantity\n        })),\n        total: calculateTotal()\n      };\n      const response = await axios.post('http://localhost:8080/api/orders', orderData);\n      if (response.data) {\n        onConfirm();\n        navigate('/my-orders', {\n          state: {\n            highlightOrder: response.data.orderNumber,\n            message: `Pedido ${response.data.orderNumber} creado exitosamente`\n          }\n        });\n      }\n    } catch (error) {\n      var _error$response, _error$response2;\n      console.error('Error detallado:', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n      alert(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data) || 'Error al procesar el pedido');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: open,\n    onClose: onClose,\n    maxWidth: \"md\",\n    fullWidth: true,\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      children: \"Confirmar Pedido\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      children: [/*#__PURE__*/_jsxDEV(List, {\n        children: cart.map(item => {\n          const pricePerUnit = item.price * 1000 * 0.44 / item.bulkQuantity;\n          const itemTotal = pricePerUnit * item.quantity;\n          const bulkPrice = item.price * 1000 * 0.44;\n          const numberOfBulks = item.quantity / item.bulkQuantity;\n          return /*#__PURE__*/_jsxDEV(ListItem, {\n            sx: {\n              flexDirection: 'column',\n              alignItems: 'flex-start'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: [\"C\\xF3digo: \", item.code]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mt: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                children: [\"Cantidad: \", item.quantity, \" unidades (\", numberOfBulks, \" bultos de \", item.bulkQuantity, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: [\"Precio por unidad: $\", pricePerUnit.toLocaleString('es-AR', {\n                  minimumFractionDigits: 2,\n                  maximumFractionDigits: 2\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: [\"Precio por bulto: $\", bulkPrice.toLocaleString('es-AR', {\n                  minimumFractionDigits: 2,\n                  maximumFractionDigits: 2\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle1\",\n                sx: {\n                  fontWeight: 'bold'\n                },\n                children: [\"Subtotal: $\", itemTotal.toLocaleString('es-AR', {\n                  minimumFractionDigits: 2,\n                  maximumFractionDigits: 2\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 17\n            }, this)]\n          }, item.code, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        sx: {\n          mt: 2\n        },\n        children: [\"Total del Pedido: $\", calculateTotal().toLocaleString('es-AR', {\n          minimumFractionDigits: 2,\n          maximumFractionDigits: 2\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: onClose,\n        children: \"Cancelar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleConfirm,\n        variant: \"contained\",\n        color: \"primary\",\n        children: \"Confirmar Pedido\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n_s(OrderConfirmation, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c = OrderConfirmation;\nexport default OrderConfirmation;\nvar _c;\n$RefreshReg$(_c, \"OrderConfirmation\");","map":{"version":3,"names":["React","Dialog","DialogTitle","DialogContent","DialogActions","Button","List","ListItem","ListItemText","Typography","Box","useNavigate","axios","jsxDEV","_jsxDEV","OrderConfirmation","open","onClose","cart","onConfirm","_s","navigate","calculateTotal","reduce","total","item","pricePerUnit","price","bulkQuantity","itemTotal","quantity","handleConfirm","orderData","items","map","productName","name","productCode","code","response","post","data","state","highlightOrder","orderNumber","message","error","_error$response","_error$response2","console","alert","maxWidth","fullWidth","children","fileName","_jsxFileName","lineNumber","columnNumber","bulkPrice","numberOfBulks","sx","flexDirection","alignItems","variant","color","mt","toLocaleString","minimumFractionDigits","maximumFractionDigits","fontWeight","onClick","_c","$RefreshReg$"],"sources":["/Users/matigasstron/Desktop/pagina VG/frontend/src/components/OrderConfirmation.js"],"sourcesContent":["import React from 'react';\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  List,\n  ListItem,\n  ListItemText,\n  Typography,\n  Box\n} from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n\nconst OrderConfirmation = ({ open, onClose, cart, onConfirm }) => {\n  const navigate = useNavigate();\n\n  const calculateTotal = () => {\n    return cart.reduce((total, item) => {\n      const pricePerUnit = (item.price * 1000 * 0.44) / item.bulkQuantity;\n      const itemTotal = pricePerUnit * item.quantity;\n      return total + itemTotal;\n    }, 0);\n  };\n\n  const handleConfirm = async () => {\n    try {\n      const orderData = {\n        items: cart.map(item => ({\n          productName: item.name,\n          productCode: item.code,\n          quantity: item.quantity,\n          bulkQuantity: item.bulkQuantity,\n          pricePerUnit: (item.price * 1000 * 0.44) / item.bulkQuantity,\n          total: ((item.price * 1000 * 0.44) / item.bulkQuantity) * item.quantity\n        })),\n        total: calculateTotal()\n      };\n\n      const response = await axios.post('http://localhost:8080/api/orders', orderData);\n      \n      if (response.data) {\n        onConfirm();\n        navigate('/my-orders', { \n          state: { \n            highlightOrder: response.data.orderNumber,\n            message: `Pedido ${response.data.orderNumber} creado exitosamente` \n          } \n        });\n      }\n    } catch (error) {\n      console.error('Error detallado:', error.response?.data || error.message);\n      alert(error.response?.data || 'Error al procesar el pedido');\n    }\n  };\n\n  return (\n    <Dialog open={open} onClose={onClose} maxWidth=\"md\" fullWidth>\n      <DialogTitle>Confirmar Pedido</DialogTitle>\n      <DialogContent>\n        <List>\n          {cart.map((item) => {\n            const pricePerUnit = (item.price * 1000 * 0.44) / item.bulkQuantity;\n            const itemTotal = pricePerUnit * item.quantity;\n            const bulkPrice = item.price * 1000 * 0.44;\n            const numberOfBulks = item.quantity / item.bulkQuantity;\n\n            return (\n              <ListItem key={item.code} sx={{ flexDirection: 'column', alignItems: 'flex-start' }}>\n                <Typography variant=\"h6\">{item.name}</Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  Código: {item.code}\n                </Typography>\n                <Box sx={{ mt: 1 }}>\n                  <Typography>\n                    Cantidad: {item.quantity} unidades ({numberOfBulks} bultos de {item.bulkQuantity})\n                  </Typography>\n                  <Typography>\n                    Precio por unidad: ${pricePerUnit.toLocaleString('es-AR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n                  </Typography>\n                  <Typography>\n                    Precio por bulto: ${bulkPrice.toLocaleString('es-AR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n                  </Typography>\n                  <Typography variant=\"subtitle1\" sx={{ fontWeight: 'bold' }}>\n                    Subtotal: ${itemTotal.toLocaleString('es-AR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n                  </Typography>\n                </Box>\n              </ListItem>\n            );\n          })}\n        </List>\n        <Typography variant=\"h6\" sx={{ mt: 2 }}>\n          Total del Pedido: ${calculateTotal().toLocaleString('es-AR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n        </Typography>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={onClose}>Cancelar</Button>\n        <Button onClick={handleConfirm} variant=\"contained\" color=\"primary\">\n          Confirmar Pedido\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default OrderConfirmation; "],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SACEC,MAAM,EACNC,WAAW,EACXC,aAAa,EACbC,aAAa,EACbC,MAAM,EACNC,IAAI,EACJC,QAAQ,EACRC,YAAY,EACZC,UAAU,EACVC,GAAG,QACE,eAAe;AACtB,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,iBAAiB,GAAGA,CAAC;EAAEC,IAAI;EAAEC,OAAO;EAAEC,IAAI;EAAEC;AAAU,CAAC,KAAK;EAAAC,EAAA;EAChE,MAAMC,QAAQ,GAAGV,WAAW,CAAC,CAAC;EAE9B,MAAMW,cAAc,GAAGA,CAAA,KAAM;IAC3B,OAAOJ,IAAI,CAACK,MAAM,CAAC,CAACC,KAAK,EAAEC,IAAI,KAAK;MAClC,MAAMC,YAAY,GAAID,IAAI,CAACE,KAAK,GAAG,IAAI,GAAG,IAAI,GAAIF,IAAI,CAACG,YAAY;MACnE,MAAMC,SAAS,GAAGH,YAAY,GAAGD,IAAI,CAACK,QAAQ;MAC9C,OAAON,KAAK,GAAGK,SAAS;IAC1B,CAAC,EAAE,CAAC,CAAC;EACP,CAAC;EAED,MAAME,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC,IAAI;MACF,MAAMC,SAAS,GAAG;QAChBC,KAAK,EAAEf,IAAI,CAACgB,GAAG,CAACT,IAAI,KAAK;UACvBU,WAAW,EAAEV,IAAI,CAACW,IAAI;UACtBC,WAAW,EAAEZ,IAAI,CAACa,IAAI;UACtBR,QAAQ,EAAEL,IAAI,CAACK,QAAQ;UACvBF,YAAY,EAAEH,IAAI,CAACG,YAAY;UAC/BF,YAAY,EAAGD,IAAI,CAACE,KAAK,GAAG,IAAI,GAAG,IAAI,GAAIF,IAAI,CAACG,YAAY;UAC5DJ,KAAK,EAAIC,IAAI,CAACE,KAAK,GAAG,IAAI,GAAG,IAAI,GAAIF,IAAI,CAACG,YAAY,GAAIH,IAAI,CAACK;QACjE,CAAC,CAAC,CAAC;QACHN,KAAK,EAAEF,cAAc,CAAC;MACxB,CAAC;MAED,MAAMiB,QAAQ,GAAG,MAAM3B,KAAK,CAAC4B,IAAI,CAAC,kCAAkC,EAAER,SAAS,CAAC;MAEhF,IAAIO,QAAQ,CAACE,IAAI,EAAE;QACjBtB,SAAS,CAAC,CAAC;QACXE,QAAQ,CAAC,YAAY,EAAE;UACrBqB,KAAK,EAAE;YACLC,cAAc,EAAEJ,QAAQ,CAACE,IAAI,CAACG,WAAW;YACzCC,OAAO,EAAE,UAAUN,QAAQ,CAACE,IAAI,CAACG,WAAW;UAC9C;QACF,CAAC,CAAC;MACJ;IACF,CAAC,CAAC,OAAOE,KAAK,EAAE;MAAA,IAAAC,eAAA,EAAAC,gBAAA;MACdC,OAAO,CAACH,KAAK,CAAC,kBAAkB,EAAE,EAAAC,eAAA,GAAAD,KAAK,CAACP,QAAQ,cAAAQ,eAAA,uBAAdA,eAAA,CAAgBN,IAAI,KAAIK,KAAK,CAACD,OAAO,CAAC;MACxEK,KAAK,CAAC,EAAAF,gBAAA,GAAAF,KAAK,CAACP,QAAQ,cAAAS,gBAAA,uBAAdA,gBAAA,CAAgBP,IAAI,KAAI,6BAA6B,CAAC;IAC9D;EACF,CAAC;EAED,oBACE3B,OAAA,CAACb,MAAM;IAACe,IAAI,EAAEA,IAAK;IAACC,OAAO,EAAEA,OAAQ;IAACkC,QAAQ,EAAC,IAAI;IAACC,SAAS;IAAAC,QAAA,gBAC3DvC,OAAA,CAACZ,WAAW;MAAAmD,QAAA,EAAC;IAAgB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAa,CAAC,eAC3C3C,OAAA,CAACX,aAAa;MAAAkD,QAAA,gBACZvC,OAAA,CAACR,IAAI;QAAA+C,QAAA,EACFnC,IAAI,CAACgB,GAAG,CAAET,IAAI,IAAK;UAClB,MAAMC,YAAY,GAAID,IAAI,CAACE,KAAK,GAAG,IAAI,GAAG,IAAI,GAAIF,IAAI,CAACG,YAAY;UACnE,MAAMC,SAAS,GAAGH,YAAY,GAAGD,IAAI,CAACK,QAAQ;UAC9C,MAAM4B,SAAS,GAAGjC,IAAI,CAACE,KAAK,GAAG,IAAI,GAAG,IAAI;UAC1C,MAAMgC,aAAa,GAAGlC,IAAI,CAACK,QAAQ,GAAGL,IAAI,CAACG,YAAY;UAEvD,oBACEd,OAAA,CAACP,QAAQ;YAAiBqD,EAAE,EAAE;cAAEC,aAAa,EAAE,QAAQ;cAAEC,UAAU,EAAE;YAAa,CAAE;YAAAT,QAAA,gBAClFvC,OAAA,CAACL,UAAU;cAACsD,OAAO,EAAC,IAAI;cAAAV,QAAA,EAAE5B,IAAI,CAACW;YAAI;cAAAkB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAa,CAAC,eACjD3C,OAAA,CAACL,UAAU;cAACsD,OAAO,EAAC,OAAO;cAACC,KAAK,EAAC,gBAAgB;cAAAX,QAAA,GAAC,aACzC,EAAC5B,IAAI,CAACa,IAAI;YAAA;cAAAgB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACR,CAAC,eACb3C,OAAA,CAACJ,GAAG;cAACkD,EAAE,EAAE;gBAAEK,EAAE,EAAE;cAAE,CAAE;cAAAZ,QAAA,gBACjBvC,OAAA,CAACL,UAAU;gBAAA4C,QAAA,GAAC,YACA,EAAC5B,IAAI,CAACK,QAAQ,EAAC,aAAW,EAAC6B,aAAa,EAAC,aAAW,EAAClC,IAAI,CAACG,YAAY,EAAC,GACnF;cAAA;gBAAA0B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAY,CAAC,eACb3C,OAAA,CAACL,UAAU;gBAAA4C,QAAA,GAAC,sBACU,EAAC3B,YAAY,CAACwC,cAAc,CAAC,OAAO,EAAE;kBAAEC,qBAAqB,EAAE,CAAC;kBAAEC,qBAAqB,EAAE;gBAAE,CAAC,CAAC;cAAA;gBAAAd,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACvG,CAAC,eACb3C,OAAA,CAACL,UAAU;gBAAA4C,QAAA,GAAC,qBACS,EAACK,SAAS,CAACQ,cAAc,CAAC,OAAO,EAAE;kBAAEC,qBAAqB,EAAE,CAAC;kBAAEC,qBAAqB,EAAE;gBAAE,CAAC,CAAC;cAAA;gBAAAd,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnG,CAAC,eACb3C,OAAA,CAACL,UAAU;gBAACsD,OAAO,EAAC,WAAW;gBAACH,EAAE,EAAE;kBAAES,UAAU,EAAE;gBAAO,CAAE;gBAAAhB,QAAA,GAAC,aAC/C,EAACxB,SAAS,CAACqC,cAAc,CAAC,OAAO,EAAE;kBAAEC,qBAAqB,EAAE,CAAC;kBAAEC,qBAAqB,EAAE;gBAAE,CAAC,CAAC;cAAA;gBAAAd,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3F,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACV,CAAC;UAAA,GAlBOhC,IAAI,CAACa,IAAI;YAAAgB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAmBd,CAAC;QAEf,CAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eACP3C,OAAA,CAACL,UAAU;QAACsD,OAAO,EAAC,IAAI;QAACH,EAAE,EAAE;UAAEK,EAAE,EAAE;QAAE,CAAE;QAAAZ,QAAA,GAAC,qBACnB,EAAC/B,cAAc,CAAC,CAAC,CAAC4C,cAAc,CAAC,OAAO,EAAE;UAAEC,qBAAqB,EAAE,CAAC;UAAEC,qBAAqB,EAAE;QAAE,CAAC,CAAC;MAAA;QAAAd,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1G,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC,eAChB3C,OAAA,CAACV,aAAa;MAAAiD,QAAA,gBACZvC,OAAA,CAACT,MAAM;QAACiE,OAAO,EAAErD,OAAQ;QAAAoC,QAAA,EAAC;MAAQ;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAC3C3C,OAAA,CAACT,MAAM;QAACiE,OAAO,EAAEvC,aAAc;QAACgC,OAAO,EAAC,WAAW;QAACC,KAAK,EAAC,SAAS;QAAAX,QAAA,EAAC;MAEpE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACI,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACV,CAAC;AAEb,CAAC;AAACrC,EAAA,CAzFIL,iBAAiB;EAAA,QACJJ,WAAW;AAAA;AAAA4D,EAAA,GADxBxD,iBAAiB;AA2FvB,eAAeA,iBAAiB;AAAC,IAAAwD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}